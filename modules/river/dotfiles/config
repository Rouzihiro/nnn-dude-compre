

### CONFIG

# Set app-ids of views which should use client side decorations
# riverctl csd-filter-add "firefox"

riverctl set-repeat 50 300
riverctl attach-mode "top"
riverctl focus-follows-cursor "normal"
riverctl set-cursor-warp on-output-change
riverctl border-width 2
riverctl xcursor-theme capitaine-cursors 32
riverctl hide-cursor when-typing enabled

for pad in $(riverctl list-inputs | grep -i pointer)
do
  riverctl input $pad natural-scroll enabled
  riverctl input $pad events enabled
  riverctl input $pad tap disabled
  riverctl input $pad disable-while-typing enabled
  # riverctl input $pad accel-profile flat
  # riverctl input $pad pointer-accel 0
done

for pad in $(riverctl list-inputs | grep -i mouse)
do
  riverctl input $pad natural-scroll disabled
  riverctl input $pad accel-profile flat
  riverctl input $pad pointer-accel 0
done


#### RULES

riverctl float-filter-add app-id "pavucontrol"
riverctl float-filter-add app-id "nm-connection-editor"
riverctl float-filter-add app-id "file-roller"


#### AUTOSTART
riverctl spawn "restart-pipewire-and-portal-services"
riverctl spawn "configure-gtk"

# Autostart apps
# start systemd services related to graphical-session.target
# https://github.com/emersion/xdg-desktop-portal-wlr/wiki/systemd-user-services,-pam,-and-environment-variables
riverctl spawn "systemctl --user start graphical-session.target"

riverctl spawn "bash /etc/scripts/river-autostart.sh"


#### LAYOUT

# Set and exec into the default layout generator, rivercarro.
# River will send the process group of the init executable SIGTERM on exit.
riverctl default-layout rivercarro
exec rivercarro -inner-gaps 7 -outer-gaps 7 -no-smart-gaps

# vim: syntax=sh
